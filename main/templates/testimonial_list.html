{% extends 'base.html' %}
{% block content %}

<div style="
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    background: url('/static/images/bg06.jpg') center/cover no-repeat fixed;
    backdrop-filter: blur(6px);
    padding: 60px 20px;
">
    <div style="
        background: rgba(0, 0, 0, 0.8);
        border: 1px solid rgba(0, 255, 255, 0.4);
        border-radius: 15px;
        padding: 35px;
        width: 100%;
        max-width: 900px;
        box-shadow: 0 0 30px rgba(0, 255, 255, 0.4);
        color: #e0f7ff;
        animation: fadeInUp 1s ease;
    ">
        <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;">
            <h3 style="
                color: #00e6ff;
                font-weight: 700;
                margin-bottom: 20px;
            ">
                Testimonials
            </h3>
            <a href="{% url 'testimonial_add' %}" 
                style="
                    background-color: #00e6ff;
                    color: #001f33;
                    padding: 10px 20px;
                    border-radius: 8px;
                    font-weight: 600;
                    text-decoration: none;
                    box-shadow: 0 0 10px #00ffff;
                    transition: all 0.3s ease;
                "
                onmouseover="this.style.background='#00ffff'; this.style.boxShadow='0 0 20px #00ffff';"
                onmouseout="this.style.background='#00e6ff'; this.style.boxShadow='0 0 10px #00ffff';">
                + Add New Testimonial
            </a>
        </div>

        <div style="overflow-x: auto; margin-top: 20px;">
            <table style="
                width: 100%;
                border-collapse: collapse;
                color: #e0f7ff;
                box-shadow: 0 0 20px rgba(0,255,255,0.2);
            ">
                <thead>
                    <tr style="background: rgba(0,255,255,0.15); color: #00ffff;">
                        <th style="padding: 12px; border-bottom: 1px solid rgba(0,255,255,0.3); text-align: left;">Name</th>
                        <th style="padding: 12px; border-bottom: 1px solid rgba(0,255,255,0.3); text-align: left;">Message</th>
                        <th style="padding: 12px; border-bottom: 1px solid rgba(0,255,255,0.3); text-align: center;">Photo</th>
                        <th style="padding: 12px; border-bottom: 1px solid rgba(0,255,255,0.3); text-align: center;">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in items %}
                    <tr style="transition: background 0.3s ease;" 
                        onmouseover="this.style.background='rgba(0,255,255,0.1)'" 
                        onmouseout="this.style.background='transparent'">
                        <td style="padding: 12px;">{{ item.name }}</td>
                        <td style="padding: 12px;">{{ item.message }}</td>
                        <td style="padding: 10px; text-align: center;">
                            {% if item.photo %}
                                <img src="{{ item.photo.url }}" width="70" height="70" style="border-radius: 50%; box-shadow: 0 0 10px #00ffff;">
                            {% else %}
                                <span style="color:#999;">No Photo</span>
                            {% endif %}
                        </td>
                        <td style="padding: 10px; text-align: center;">
                            <a href="{% url 'testimonial_edit' item.id %}" 
                                style="
                                    background-color: #00bfff;
                                    color: #001f33;
                                    padding: 6px 14px;
                                    border-radius: 6px;
                                    font-weight: 600;
                                    text-decoration: none;
                                    margin-right: 6px;
                                    box-shadow: 0 0 10px #00bfff;
                                    transition: 0.3s;
                                "
                                onmouseover="this.style.background='#00ffff'; this.style.boxShadow='0 0 15px #00ffff';"
                                onmouseout="this.style.background='#00bfff'; this.style.boxShadow='0 0 10px #00bfff';">
                                Edit
                            </a>
                            <a href="{% url 'testimonial_delete' item.id %}" 
                                style="
                                    background-color: #ff0040;
                                    color: #fff;
                                    padding: 6px 14px;
                                    border-radius: 6px;
                                    font-weight: 600;
                                    text-decoration: none;
                                    box-shadow: 0 0 10px #ff0040;
                                    transition: 0.3s;
                                "
                                onmouseover="this.style.background='#ff3366'; this.style.boxShadow='0 0 15px #ff3366';"
                                onmouseout="this.style.background='#ff0040'; this.style.boxShadow='0 0 10px #ff0040';">
                                Delete
                            </a>
                        </td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="4" style="text-align:center; padding:20px; color:#aaa;">
                            No testimonials found.
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <!-- Back Button -->
        <div style="text-align: center; margin-top: 25px;">
            <a href="javascript:history.back()" 
                style="
                    text-decoration: none;
                    border: 1px solid #00ffff;
                    color: #00ffff;
                    padding: 10px 25px;
                    border-radius: 8px;
                    font-weight: 600;
                    transition: 0.3s ease;
                "
                onmouseover="this.style.background='rgba(0,255,255,0.2)'; this.style.boxShadow='0 0 15px #00ffff';"
                onmouseout="this.style.background='transparent'; this.style.boxShadow='none';">
                â¬… Back
            </a>
        </div>
    </div>
</div>

{% endblock %}
